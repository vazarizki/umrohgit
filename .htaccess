RewriteEngine On

# Jangan rewrite kalau file/folder beneran ada
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Redirect dari .php ke tanpa .php (301 permanent)
RewriteCond %{THE_REQUEST} \s/([^.]+)\.php[\s?] [NC]
RewriteRule ^([^.]+)\.php$ /%1 [R=301,L]

# Hilangkan index.php (redirect ke /)
RewriteCond %{THE_REQUEST} \s/index\.php[\s?] [NC]
RewriteRule ^index\.php$ / [R=301,L]

# Biar URL tanpa .php tetap bisa jalan
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^/]+)/?$ $1.php [L]